<!DOCTYPE html>
<html lang="en">

<head>
  <!-- set character encoding and mobile responsiveness -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="data:,">
  <!-- PAGE TITLE -->
  <title>Student – Peermetric</title>
  <!-- SITE ICON -->
  <link rel="icon" type="image/x-icon" href="img/peermetric.png">
  <!-- CSS STYLESHEETS -->
  <link rel="stylesheet" href="css/lib/bootstrap.min.css" />
  <link rel="stylesheet" href="css/lib/sweetalert2.min.css" />
  <link rel="stylesheet" href="css/styles.css" />
  <style>
    body {
      background:
        linear-gradient(to bottom,
          #ffffff,
          #ffffff,
          rgba(13, 110, 252, 0.18)),
        #ffffff;
      background-attachment: fixed;
    }
  </style>
</head>

<body class="bg-light">
  <div class="container py-4">
    <!-- LOGO IMAGE -->
    <!-- <div class="d-flex justify-content-center align-items-center">
      <img src="./img/computer-svgrepo.svg" alt="computer monitor image" style="max-width: 10%;" class="mt-2 mb-2">
    </div> -->

    <!-- PAGE HEADER -->
    <div class="row align-items-center mb-3 text-center">
      <div class="col text-start">
        <h5 id="userNameHeader" class="mb-0"></h5>
      </div>
      <div class="col-auto mx-auto">
        <h3 class="mb-0">
          <img src="./img/peermetric.png" alt="peermetric logo of 3 abstract people in a bubble" class="me-2" style="height: 1.7rem; vertical-align: middle; position: relative; top: -0.1rem;">
          <span class=" fw-light fw-bold">Peermetric</span>
          <span class="opacity-75 fw-light mx-1">|</span>
          <span class="fw-light opacity-50">Student</span>
        </h3>
      </div>
      <div class="col text-end">
        <a href="index.html" id="signOutLink" style="text-decoration: none;">
          <h5 class="mb-0 text-secondary">
            Sign out
          </h5>
        </a>
      </div>
    </div>

    <!-- ACCORDION CONTAINER -->
    <div class="accordion mb-3" id="formAccordion">


      <!-- DO SURVERYS -->
      <div class="card shadow mb-3">
        <div class="card-header bg-secondary text-light">
          <h2 class="mb-0">
            <button class="btn text-light w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSurveys" aria-expanded="false" aria-controls="collapseCourse">
              <b>Surveys</b>
            </button>
          </h2>
        </div>
        <div id="collapseSurveys" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
          <div id="putFormsHere" class="card">
          <!--FORMS go here... Divs for Courses; Divs in those courses for Groups; Divs in those Groups for Surveys-->
           
          </div>
        </div>
      </div>

    </div>

    <!-- COURSE LIST TABLE -->
    <div class="card shadow mb-3">
      <div class="card-header bg-primary text-light">
        <b>Course List</b>
      </div>

      <div class="card-body">
        <!-- search box -->
        <!-- <input type="text" id="surveySearch" class="form-control mb-3" placeholder="Search course, group, member..." aria-label="search course list" /> -->
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead class="thead-dark">
              <tr>
                <th>Course</th>
                <th>Students</th>
                <th>Evaluations</th>
              </tr>
            </thead>
            <tbody id="courseList">
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- GROUP LIST TABLE -->
    <div class="card shadow">
      <div class="card-header bg-primary text-light">
        <b>Group List</b>
      </div>

      <div class="card-body">
        <!-- search box -->
        <input type="text" id="txtSearchGroups" class="form-control mb-3" placeholder="Search course, group, member..." aria-label="search tasks" />
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead class="thead-dark">
              <tr>
                <th>Course</th>
                <th>Group</th>
                <th>Members</th>
                <th>Evaluations</th>
              </tr>
            </thead>
            <tbody id="groupList">
            </tbody>
        </div>
      </div>
    </div>
  </div>

  <footer class="bg-transparent text-dark fixed-bottom">
    <div class="container-fluid d-flex justify-content-start align-items-center position-relative" style="height: 50px;">

      <!-- Left-aligned Click Me Button -->
      <button id="clickMeButton" class="btn btn-link text-decoration-none text-dark me-auto">
        <b>Click Me!</b>
      </button>

      <!-- Centered absolutely in the viewport -->
      <small class="position-absolute start-50 translate-middle-x text-center">
        © 2025
        <a class="text-decoration-none" href="https://github.com/prestonharberts/peermetric">Peermetric (GitHub)</a>
        <span>CC BY 4.0</span>
      </small>

    </div>
  </footer>

  <!-- JS SCRIPTS -->
  <script src="js/lib/bootstrap.bundle.min.js"></script>
  <script src="js/lib/sweetalert2.all.min.js"></script>
  <script src="js/student.js"></script>
  <script>
    const userName = localStorage.getItem('userName')
    const userNameHeader = document.getElementById('userNameHeader')
    if (userName) {
      userNameHeader.textContent += `Hello, ${userName}`
    } else {
      userNameHeader.textContent = 'No name found'
    }

    document.getElementById('signOutLink').addEventListener('click', function (event) {
      event.preventDefault(); // Stop default link behavior
      localStorage.clear();
      sessionStorage.clear();
      window.location.href = 'index.html';
    });

    // Add event listener for the left-aligned "Click Me" button

    document.getElementById('clickMeButton').addEventListener('click', function () {
      Swal.fire({
        title: 'CSC 3100 - Final Project',
        text: `Student Page (Trevor): This page was taken up about 8 hours before the assignment was due.
              a groupmate seemed to drop out and file needed work. The goal was to dynamically show surveys
              in the Surveys accordian menu when opened. Another design goal was to add functionality to 
              leave a course or group. (Note: Most of the groundwork was layed by Preston)`,
        icon: 'info',
        confirmButtonText: 'OK'
      });
    });

  </script>
</body>

</html>