<!DOCTYPE html>
<html lang="en">

<head>
  <!-- set character encoding and mobile responsiveness -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="data:,">
  <!-- PAGE TITLE -->
  <title>Student â€“ Peermetric</title>
  <!-- SITE ICON -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <!-- CSS STYLESHEETS -->
  <link rel="stylesheet" href="css/lib/bootstrap.min.css" />
  <link rel="stylesheet" href="css/lib/sweetalert2.min.css" />
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body class="bg-light">
  <div class="container py-4">
    <!-- LOGO IMAGE -->
    <!-- <div class="d-flex justify-content-center align-items-center">
      <img src="./img/computer-svgrepo.svg" alt="computer monitor image" style="max-width: 10%;" class="mt-2 mb-2">
    </div> -->

    <!-- PAGE HEADER -->
    <div class="row align-items-center mb-3 text-center">
      <div class="col text-start">
        <h5 id="userNameHeader" class="mb-0"></h5>
      </div>
      <div class="col-auto mx-auto">
        <h3 class="mb-0">
          <span class="fw-bold">Student</span>
          <span class="opacity-75 fw-light">|</span>
          <span class="opacity-50 fw-light">Peermetric</span>
        </h3>
      </div>
      <div class="col text-end">
        <a href="index.html" style="text-decoration: none;">
          <h5 class="mb-0 text-primary">
            Sign out
          </h5>
        </a>
      </div>
    </div>

    <!-- ACCORDION CONTAINER -->
    <div class="accordion mb-3" id="formAccordion">

      <!-- TAKE SURVEY -->
      <div class="card shadow mb-3">
        <div class="card-header bg-success text-light">
          <h2 class="mb-0">
            <button class="btn text-light w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSurvey" aria-expanded="true" aria-controls="collapseSurvey">
              <b>Take Survey</b>
            </button>
          </h2>
        </div>
        <div id="collapseSurvey" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
          <div class="card-body">
            <form id="formTakeSurvey" onsubmit="return true">
              <!-- ROW -->
              <!-- GAP -->
              <div class="row g-2 mb-2">
                <div class="col-md-4">
                  <!-- input for survey taker's group -->
                  <select id="surveyRecipientGroup" class="form-control" aria-label="select recipient group">
                    <option value="" selected hidden>Select your group</option>
                    <option value="All groups">All groups</option>
                    <option value="Group 1">Group 1 (Preston, Kyle)</option>
                    <option value="Group 2">Group 2 (Ezra, Javontae)</option>
                  </select>
                </div>
                <div class="col-md-4">
                  <!-- selection box for survey recipient -->
                  <select id="surveyRecipient" class="form-control" aria-label="select survey recipient">
                    <option value="" selected hidden>Select recipient</option>
                  </select>
                </div>
                <div class="col-md-4">
                    <select id="surveyType" class="form-control" aria-label="select survey type">
                      <option value="" selected hidden>Select visibility</option>
                      <option value="Private">Private</option>
                      <option value="Public">Public</option>
                    </select>
                </div>
              </div>
              <div id="divInsertSurvey" class="row g-2 mb-2">
                <!-- Incoming survey goes here -->
              </div>
              <div class="row g-2 mb-2">        
                <div class="col-md-2">
                  <!-- submit button -->
                  <button type="submit" id="btnSubmitSurvey" class="btn btn-success w-100">Submit Survey</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

    <!-- GROUP LIST TABLE -->
    <div class="card shadow">
      <div class="card-header bg-primary text-light">
        <b>Group List</b>
      </div>

      <div class="card-body">
        <!-- search box -->
        <input type="text" id="txtSearchGroups" class="form-control mb-3" placeholder="Search course, group, member..." aria-label="search tasks" />
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead class="thead-dark">
              <tr>
                <th>Course</th>
                <th>Group</th>
                <th>Member</th>
                <th>Email</th>
                <th>Bio</th>
              </tr>
            </thead>
            <tbody id="groupList">
            </tbody>
          </table>
        </div>
      </div>
    </div>

  <!-- LEAVE GROUP BUTTON -->
    <div class="d-flex justify-content-center mt-3">
        <button type="button" id="btnLeaveGroup" class="btn btn-danger">Leave Group</button>
    </div>

  <!-- JS SCRIPTS -->
  <script src="js/lib/bootstrap.bundle.min.js"></script>
  <script src="js/lib/sweetalert2.all.min.js"></script>
  <script src="js/student.js"></script>
  <script>
    const userName = localStorage.getItem('userName')
    const userNameHeader = document.getElementById('userNameHeader')
    if (userName) {
      userNameHeader.textContent += `Hello, ${userName}`
    } else {
      userNameHeader.textContent = 'No name found'
    }
  </script>
</body>

</html>